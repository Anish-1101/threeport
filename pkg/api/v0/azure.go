// originally generated by 'threeport-sdk create' for API object
// scaffolding but will not be re-generated - intended for modification

package v0

type AzureAccount struct {
	Common `mapstructure:",squash" swaggerignore:"true"`

	// The unique name of an AKS account.
	Name *string `json:"Name,omitempty" query:"name" gorm:"not null" validate:"required"`

	// The credentials for the Azure account.
	Credentials *string `json:"Credentials,omitempty" query:"credentials" gorm:"not null" validate:"required" encrypt:"true"`

	// If true, this is the Azure Account used if none specified in a definition.
	DefaultAccount *bool `json:"DefaultAccount,omitempty" query:"defaultaccount" gorm:"default:false" validate:"optional"`

	// The region to use for Azure managed services if not specified.
	DefaultRegion *string `json:"DefaultRegion,omitempty" query:"defaultregion" gorm:"not null" validate:"required"`

	// The cluster instances deployed in this Azure account.
	AzureAksKubernetesRuntimeDefinition []*AzureAksKubernetesRuntimeDefinition `json:"AzureAksKubernetesRuntimeDefinition,omitempty" validate:"optional,association"`
}

type AzureAksKubernetesRuntimeDefinition struct {
	Common     `mapstructure:",squash" swaggerignore:"true"`
	Definition `mapstructure:",squash"`

	// The Azure account in which the EKS cluster is provisioned.
	AzureAccountID *uint `json:"AzureAccountID,omitempty" query:"azureaccountid" gorm:"not null" validate:"required"`

	// TODO: add fields for region limitations
	// RegionsAllowed
	// RegionsForbidden

	// The kubernetes runtime definition for an AKS cluster in Azure.
	KubernetesRuntimeDefinitionID *uint `json:"KubernetesRuntimeDefinitionID,omitempty" query:"kubernetesruntimedefinitionid" gorm:"not null" validate:"required"`

	// The associated aks k8s runtime instances
	AzureAksKubernetesRuntimeInstances []*AzureAksKubernetesRuntimeInstance `json:"AzureAksKubernetesRuntimeInstances,omitempty" validate:"optional,association"`
}

type AzureAksKubernetesRuntimeInstance struct {
	Common         `mapstructure:",squash" swaggerignore:"true"`
	Reconciliation `mapstructure:",squash"`
	Instance       `mapstructure:",squash"`

	// The runtime definition associated with this instance
	AzureAksKubernetesRuntimeDefinitionID *uint `gorm:"not null" json:"AzureAksKubernetesRuntimeDefinitionID,omitempty" query:"azureakskubernetesruntimedefinitionid" validate:"required"`

	// The Azure Region in which the cluster is provisioned.
	Region *string `json:"Region,omitempty" query:"region" validate:"optional"`

	// The kubernetes runtime instance associated with the AWS EKS cluster.
	KubernetesRuntimeInstanceID *uint `json:"KubernetesRuntimeInstanceID,omitempty" query:"kubernetesruntimeinstanceid" gorm:"not null" validate:"required"`
}
